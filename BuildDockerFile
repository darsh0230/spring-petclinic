FROM openjdk:17-jdk-slim

VOLUME /tmp

ADD . /project/

WORKDIR "/project"

RUN echo "#!/bin/bash"  >> ./buildScript.sh
RUN echo "./mvnw package" >> ./buildScript.sh
RUN echo "mv ./target/*.jar ./target/App.jar" >> ./buildScript.sh

RUN ["chmod", "+x", "/project/buildScript.sh"]

ENTRYPOINT ["./buildScript.sh"]
